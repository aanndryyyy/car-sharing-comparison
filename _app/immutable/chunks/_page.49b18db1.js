var X=Object.defineProperty;var Q=(t,e,i)=>e in t?X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var p=(t,e,i)=>(Q(t,typeof e!="symbol"?e+"":e,i),i);import{S as v,i as A,s as g,q as k,r as w,b as d,u as R,I as M,h as a,k as _,l as B,a as K,e as I,c as q,m as H,H as N,n as Y}from"./index.991bddc8.js";const V=""+new URL("../assets/bolt.de4e591b.png",import.meta.url).href;function Z(t){let e,i,s;return{c(){e=k("Minimum fee: "),i=k(t[0]),s=k(" €")},l(r){e=w(r,"Minimum fee: "),i=w(r,t[0]),s=w(r," €")},m(r,l){d(r,e,l),d(r,i,l),d(r,s,l)},p(r,[l]){l&1&&R(i,r[0])},i:M,o:M,d(r){r&&a(e),r&&a(i),r&&a(s)}}}function O(t,e,i){let{minimumFee:s}=e;return t.$$set=r=>{"minimumFee"in r&&i(0,s=r.minimumFee)},[s]}class $ extends v{constructor(e){super(),A(this,e,O,Z,g,{minimumFee:0})}}const j=(t,e)=>{const i=t.price,s=e.distance*i.km;let r=0;e.days>=1&&(r+=e.days*i.day);let l=0;e.hours>=1&&(e.hours*i.hour+e.minutes*i.minute>i.day?(r+=i.day,e.hours=0,e.minutes=0):l+=e.hours*i.hour);let o=0;e.minutes>=1&&(e.minutes*i.minute>i.hour?l+=i.hour:o+=e.minutes*i.minute);let u=s+r+l+o;return u<(i.min??1.99)&&(u=i.min??1.99),u};class ee{constructor(e){p(this,"carData");p(this,"rentTotalPrice");this.carData=e}getName(){return this.carData.name}calculateRentTotalPrice(e){this.rentTotalPrice=j(this.carData,JSON.parse(JSON.stringify(e)))}getTotalPrice(){if(this.rentTotalPrice==null)throw"Car total rent price is not calculated";return this.rentTotalPrice}getFormattedTotalPrice(){return this.getTotalPrice().toFixed(2)+" €"}getFormattedLongTermDiscount(){return"TODO"}getFormattedMinutePrice(){return this.carData.price.minute+" €/min"}getFormattedKilometrePrice(){return this.carData.price.km+" €/min"}getLogo(){return V}getDetailedDialog(){return{component:$,props:{minimumFee:this.carData.price.min}}}}const te=""+new URL("../assets/citybee.1fb802bf.svg",import.meta.url).href;function ie(t){let e,i,s,r,l,o,u,C,c,P;return{c(){e=k("Starting fee: "),i=k(t[1]),s=k(" €"),r=_("br"),l=k(`
Minimum fee: `),o=k(t[0]),u=k(" €"),C=_("br"),c=_("br"),P=k(`

Distance & duration packages available from app.`)},l(n){e=w(n,"Starting fee: "),i=w(n,t[1]),s=w(n," €"),r=B(n,"BR",{}),l=w(n,`
Minimum fee: `),o=w(n,t[0]),u=w(n," €"),C=B(n,"BR",{}),c=B(n,"BR",{}),P=w(n,`

Distance & duration packages available from app.`)},m(n,f){d(n,e,f),d(n,i,f),d(n,s,f),d(n,r,f),d(n,l,f),d(n,o,f),d(n,u,f),d(n,C,f),d(n,c,f),d(n,P,f)},p(n,[f]){f&2&&R(i,n[1]),f&1&&R(o,n[0])},i:M,o:M,d(n){n&&a(e),n&&a(i),n&&a(s),n&&a(r),n&&a(l),n&&a(o),n&&a(u),n&&a(C),n&&a(c),n&&a(P)}}}function se(t,e,i){let{minimumFee:s}=e,{startingFee:r}=e;return t.$$set=l=>{"minimumFee"in l&&i(0,s=l.minimumFee),"startingFee"in l&&i(1,r=l.startingFee)},[s,r]}class re extends v{constructor(e){super(),A(this,e,se,ie,g,{minimumFee:0,startingFee:1})}}const W=(t,e)=>{let i=Math.floor(t/1440);t-=i*1440;let s=Math.floor(t/60);t-=s*60;let r=t,l=0;i>=1&&(l+=i*e.day);let o=0;s>=1&&(s*e.hour+r*e.minute>e.day?(l+=e.day,s=0,r=0):o+=s*e.hour);let u=0;return r>=1&&(r*e.minute>e.hour?o+=e.hour:u+=r*e.minute),{daysCost:l,hoursCost:o,minutesCost:u}};var S=(t=>(t.MONTH="MONTH",t.WEEK="WEEK",t.DAY="DAY",t))(S||{});class U{constructor(){p(this,"name",S.DAY);p(this,"days",0);p(this,"distance",0);p(this,"hours",0);p(this,"price",Number.MAX_SAFE_INTEGER)}}const oe=(t,e)=>{const i=t.price,s=e.distance*i.km,r=e.days*24*60+e.hours*60+e.minutes;let{daysCost:l,hoursCost:o,minutesCost:u}=W(r,i);const C=.5+s+l+o+u;if(C<(i.min??2.29))return i.min??2.29;const c=ne(t,e,C,r);return c.price<C?c.price:C},ne=(t,e,i,s)=>{const r=t.packages,l=t.price;let o=new U;for(const u of r){const C=u.days*24*60+u.hours*60;if(u.price<i)if(e.distance<=u.distance&&s<=C&&u.price<o.price)o={...u};else{let c=u.price;if(e.distance>u.distance&&(c+=(e.distance-u.distance)*l.km),s>C){let P=s-C,n=W(P,l);c+=n.daysCost+n.hoursCost+n.minutesCost}c<i&&c<o.price&&(o={...u},o.price=c)}}return o};class le{constructor(e){p(this,"carData");p(this,"rentTotalPrice");this.carData=e}getName(){return this.carData.name}calculateRentTotalPrice(e){this.rentTotalPrice=oe(this.carData,JSON.parse(JSON.stringify(e)))}getTotalPrice(){if(this.rentTotalPrice==null)throw"Car total rent price is not calculated";return this.rentTotalPrice}getFormattedTotalPrice(){return this.getTotalPrice().toFixed(2)+" €"}getFormattedLongTermDiscount(){return"TODO"}getFormattedMinutePrice(){return this.carData.price.minute+" €/min"}getFormattedKilometrePrice(){return this.carData.price.km+" €/min"}getLogo(){return te}getDetailedDialog(){return{component:re,props:{minimumFee:this.carData.price.min,startingFee:this.carData.price.start}}}}const me=""+new URL("../assets/elmo.fdb90f36.png",import.meta.url).href;function z(t){let e,i,s,r,l;return{c(){e=k("Classy minimum fee: "),i=k(t[1]),s=k(" €"),r=_("br"),l=_("br")},l(o){e=w(o,"Classy minimum fee: "),i=w(o,t[1]),s=w(o," €"),r=B(o,"BR",{}),l=B(o,"BR",{})},m(o,u){d(o,e,u),d(o,i,u),d(o,s,u),d(o,r,u),d(o,l,u)},p(o,u){u&2&&R(i,o[1])},d(o){o&&a(e),o&&a(i),o&&a(s),o&&a(r),o&&a(l)}}}function fe(t){let e;return{c(){e=k("1.00 €/hour and 0.10 €/km")},l(i){e=w(i,"1.00 €/hour and 0.10 €/km")},m(i,s){d(i,e,s)},d(i){i&&a(e)}}}function ue(t){let e;return{c(){e=k("2.50 €/hour and 0.16 €/km")},l(i){e=w(i,"2.50 €/hour and 0.16 €/km")},m(i,s){d(i,e,s)},d(i){i&&a(e)}}}function ae(t){let e,i,s,r,l,o,u,C,c,P,n,f,y,L,h,b,F=t[0]==="classy"&&z(t);function G(m,T){return m[0]==="classy"?ue:fe}let E=G(t),D=E(t);return{c(){F&&F.c(),e=k(`

After 100km: `),i=k(t[2]),s=k("€/km"),r=_("br"),l=_("br"),o=k(`

Week rent includes 700km free`),u=_("br"),C=k(`
Month rent includes 3000km free`),c=_("br"),P=_("br"),n=K(),f=_("b"),y=k("Customer card:"),L=_("br"),h=K(),D.c(),b=I()},l(m){F&&F.l(m),e=w(m,`

After 100km: `),i=w(m,t[2]),s=w(m,"€/km"),r=B(m,"BR",{}),l=B(m,"BR",{}),o=w(m,`

Week rent includes 700km free`),u=B(m,"BR",{}),C=w(m,`
Month rent includes 3000km free`),c=B(m,"BR",{}),P=B(m,"BR",{}),n=q(m),f=B(m,"B",{});var T=H(f);y=w(T,"Customer card:"),T.forEach(a),L=B(m,"BR",{}),h=q(m),D.l(m),b=I()},m(m,T){F&&F.m(m,T),d(m,e,T),d(m,i,T),d(m,s,T),d(m,r,T),d(m,l,T),d(m,o,T),d(m,u,T),d(m,C,T),d(m,c,T),d(m,P,T),d(m,n,T),d(m,f,T),N(f,y),d(m,L,T),d(m,h,T),D.m(m,T),d(m,b,T)},p(m,[T]){m[0]==="classy"?F?F.p(m,T):(F=z(m),F.c(),F.m(e.parentNode,e)):F&&(F.d(1),F=null),T&4&&R(i,m[2]),E!==(E=G(m))&&(D.d(1),D=E(m),D&&(D.c(),D.m(b.parentNode,b)))},i:M,o:M,d(m){F&&F.d(m),m&&a(e),m&&a(i),m&&a(s),m&&a(r),m&&a(l),m&&a(o),m&&a(u),m&&a(C),m&&a(c),m&&a(P),m&&a(n),m&&a(f),m&&a(L),m&&a(h),D.d(m),m&&a(b)}}}function ce(t,e,i){let{type:s}=e,{classyMinimumFee:r}=e,{priceAfter100:l}=e;return t.$$set=o=>{"type"in o&&i(0,s=o.type),"classyMinimumFee"in o&&i(1,r=o.classyMinimumFee),"priceAfter100"in o&&i(2,l=o.priceAfter100)},[s,r,l]}class de extends v{constructor(e){super(),A(this,e,ce,ae,g,{type:0,classyMinimumFee:1,priceAfter100:2})}}class Ce{constructor(){p(this,"months",0);p(this,"weeks",0);p(this,"withNormalPricing",{daysCost:0,hoursCost:0,minutesCost:0,distanceCost:0});p(this,"price",1/0)}}class pe{constructor(){p(this,"3days",0);p(this,"day",0);p(this,"hour",0);p(this,"km",0);p(this,"min",0);p(this,"minute",0);p(this,"start",0);p(this,"week",0)}}class ye{constructor(){p(this,"timeLeft",0);p(this,"distanceLeft",0);p(this,"months",0);p(this,"weeks",0);p(this,"onlyWeeks",!1);p(this,"totalCost",0);p(this,"price",new pe);p(this,"weekPrice",new U);p(this,"monthPrice",new U)}}const ke=(t,e)=>{if(t.packages.length<2)throw"Elmo package data broken!";const i=t.price;let s=0;e.distance>100?s=100*i.km+(e.distance-100)*.1:s=e.distance*i.km;const r=e.days*24*60+e.hours*60+e.minutes;let{daysCost:l,hoursCost:o,minutesCost:u}=W(r,i);const C=new ye;C.timeLeft=r,C.distanceLeft=e.distance,C.price=i,C.weekPrice=t.packages[0],C.monthPrice=t.packages[1];const c=x(C,new Ce);let P=0,n=0;if((c.months>0||c.weeks>0)&&c.price<s+l+o+u){const y=t.packages.find(h=>h.name===S.MONTH),L=t.packages.find(h=>h.name===S.WEEK);P=c.months*y.price,n=c.weeks*L.price,l=c.withNormalPricing.daysCost,o=c.withNormalPricing.hoursCost,u=c.withNormalPricing.minutesCost,s=c.withNormalPricing.distanceCost}let f=P+n+l+o+u+s;return i.min&&f<i.min&&(f=i.min),f},x=(t,e)=>{if(t.totalCost>e.price)return e;if(t.timeLeft<=0&&t.distanceLeft<=0)return t.totalCost<e.price&&(e.price=t.totalCost,e.months=t.months,e.weeks=t.weeks,e.withNormalPricing={daysCost:0,hoursCost:0,minutesCost:0,distanceCost:0}),e;if(t.months>0||t.weeks>0){let i=t.totalCost,s={daysCost:0,hoursCost:0,minutesCost:0},r=0;t.timeLeft>0&&(s=W(t.timeLeft,t.price),i+=s.daysCost+s.hoursCost+s.minutesCost),t.distanceLeft>0&&(r=t.distanceLeft*.1,i+=r),i<e.price&&(e.months=t.months,e.weeks=t.weeks,e.price=i,e.withNormalPricing={daysCost:s.daysCost,hoursCost:s.hoursCost,minutesCost:s.minutesCost,distanceCost:r})}return t.onlyWeeks||(e=x({timeLeft:t.timeLeft-30*24*60,distanceLeft:t.distanceLeft-3e3,months:t.months+1,weeks:t.weeks,totalCost:t.totalCost+t.monthPrice.price,onlyWeeks:!1,price:t.price,weekPrice:t.weekPrice,monthPrice:t.monthPrice},e)),e=x({timeLeft:t.timeLeft-7*24*60,distanceLeft:t.distanceLeft-700,months:t.months,weeks:t.weeks+1,totalCost:t.totalCost+t.weekPrice.price,onlyWeeks:!0,price:t.price,weekPrice:t.weekPrice,monthPrice:t.monthPrice},e),e};class we{constructor(e){p(this,"carData");p(this,"rentTotalPrice");this.carData=e}getName(){return this.carData.name}calculateRentTotalPrice(e){this.rentTotalPrice=ke(this.carData,JSON.parse(JSON.stringify(e)))}getTotalPrice(){if(this.rentTotalPrice==null)throw"Car total rent price is not calculated";return this.rentTotalPrice}getFormattedTotalPrice(){return this.getTotalPrice().toFixed(2)+" €"}getFormattedLongTermDiscount(){return"TODO"}getFormattedMinutePrice(){return this.carData.price.minute+" €/min"}getFormattedKilometrePrice(){return this.carData.price+" €/min"}getLogo(){return me}getDetailedDialog(){return{component:de,props:{type:"something",priceAfter100:"something",classyMinimumFee:"something"}}}}const Te=(t,e)=>{const i=t.price;let s=e.minutes+e.hours*60,r=0,l=0;if(e.days>=7){const n=Math.floor(e.days/7);e.days-=n*7,l+=n*i.week,r+=n*7*300}let o=0;if(e.days>=3){const n=Math.floor(e.days/3);e.days-=n*3;const f=J(s,i);n*i["3days"]+e.days*i.day+f.daysCost+f.minutesCost>i.week?(l+=i.week,e.days=0,s=0,r+=7*300):(o+=n*i["3days"],r+=3*300)}let u=0;if(e.days>=1){const n=J(s,i);e.days*i.day+n.daysCost+n.minutesCost>i["3days"]?(o+=i["3days"],r+=3*300,s=0):(u+=e.days*i.day,r+=e.days*300)}const C=J(s,i);r+=C.freeDistance,u+=C.daysCost;const c=C.minutesCost,P=Math.max(e.distance-r,0)*i.km;return l+o+u+c+P+i.start},J=(t,e)=>{let i=0,s=0,r=0;return t>0&&(i+=300,t*e.minute>e.day?s+=e.day:r+=t*e.minute),{freeDistance:i,daysCost:s,minutesCost:r}},Pe=""+new URL("../assets/beast.eb8a2802.png",import.meta.url).href;function Fe(t){let e,i,s,r,l,o,u,C,c,P,n;return{c(){e=_("strong"),i=k("Required deposit: "),s=k(t[0]),r=k(" €"),l=K(),o=_("br"),u=_("br"),C=k(`
Deposits for under 21 or less than 1 year of driving experience: `),c=_("strong"),P=k(t[1]),n=k(" €"),this.h()},l(f){e=B(f,"STRONG",{class:!0});var y=H(e);i=w(y,"Required deposit: "),s=w(y,t[0]),r=w(y," €"),y.forEach(a),l=q(f),o=B(f,"BR",{}),u=B(f,"BR",{}),C=w(f,`
Deposits for under 21 or less than 1 year of driving experience: `),c=B(f,"STRONG",{class:!0});var L=H(c);P=w(L,t[1]),n=w(L," €"),L.forEach(a),this.h()},h(){Y(e,"class","font-bold text-red-600"),Y(c,"class","font-bold text-red-600")},m(f,y){d(f,e,y),N(e,i),N(e,s),N(e,r),d(f,l,y),d(f,o,y),d(f,u,y),d(f,C,y),d(f,c,y),N(c,P),N(c,n)},p(f,[y]){y&1&&R(s,f[0]),y&2&&R(P,f[1])},i:M,o:M,d(f){f&&a(e),f&&a(l),f&&a(o),f&&a(u),f&&a(C),f&&a(c)}}}function _e(t,e,i){let{depositBase:s}=e,{depositSpecial:r}=e;return t.$$set=l=>{"depositBase"in l&&i(0,s=l.depositBase),"depositSpecial"in l&&i(1,r=l.depositSpecial)},[s,r]}class Be extends v{constructor(e){super(),A(this,e,_e,Fe,g,{depositBase:0,depositSpecial:1})}}class Le{constructor(e){p(this,"carData");p(this,"rentTotalPrice");this.carData=e}getName(){return this.carData.name}calculateRentTotalPrice(e){this.rentTotalPrice=Te(this.carData,JSON.parse(JSON.stringify(e)))}getTotalPrice(){if(this.rentTotalPrice==null)throw"Car total rent price is not calculated";return this.rentTotalPrice}getFormattedTotalPrice(){return this.getTotalPrice().toFixed(2)+" €"}getFormattedLongTermDiscount(){return"TODO"}getFormattedMinutePrice(){return this.carData.price.minute+" €/min"}getFormattedKilometrePrice(){return this.carData.price.km+" €/km after 300km"}getLogo(){return Pe}getDetailedDialog(){return{component:Be,props:{depositBase:0,depositSpecial:0}}}}async function De({fetch:t}){const i=await(await t("data/bolt.json")).json();let s=[];i.forEach(y=>{s.push(new ee(y))});const l=await(await t("data/citybee.json")).json();let o=[];l.forEach(y=>{o.push(new le(y))});const C=await(await t("data/elmo.json")).json();let c=[];C.forEach(y=>{c.push(new we(y))});const n=await(await t("data/beast.json")).json();let f=[];return n.forEach(y=>{f.push(new Le(y))}),{boltCars:s,cityBeeCars:o,elmoCars:c,beastCars:f}}const Re=Object.freeze(Object.defineProperty({__proto__:null,load:De},Symbol.toStringTag,{value:"Module"}));export{Re as _,De as l};
